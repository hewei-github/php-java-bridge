<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd">

<web-app>

    <!-- support for tomcat cluster -->
    <distributable/>

    <!-- PHP Servlet: back-end for Apache or IIS -->
    <servlet>
        <servlet-name>PhpJavaServlet</servlet-name>
        <servlet-class>php.java.servlet.PhpJavaServlet</servlet-class>

         <!-- Allow non-local PHP clients.  Default is Off. -->
         <!-- Leave this off if your server is connected to the internet. --> 
       <!--
         <init-param>
           <param-name>promiscuous</param-name>
           <param-value>On</param-value>
         </init-param>
        -->

         <!-- Default is the java.log_level from the php.ini. -->
         <!-- See also the system property php.java.bridge.default_log_level -->
        <!--
         <init-param>
           <param-name>servlet_log_level</param-name>
           <param-value>2</param-value>
         </init-param>
        -->

        <load-on-startup>0</load-on-startup>
  </servlet>

    <!-- PHP CGI servlet: when IIS or Apache are not available -->
    <servlet>
        <servlet-name>PhpCGIServlet</servlet-name>
        <servlet-class>php.java.servlet.PhpCGIServlet</servlet-class>

         <!-- Allow us to override the java.hosts, java.servlet and -->
         <!-- java.socketname settings from your php.ini so that we can -->
         <!-- use the current VM (see X_JAVABRIDGE_OVERRIDE_HOSTS). -->
         <!-- Default is On. -->
        <!-- 
         <init-param>
           <param-name>override_hosts</param-name>
           <param-value>Off</param-value>
         </init-param>
        -->

         <!-- Your php binary. Default is /usr/bin/php-cgi or -->
         <!-- c:/php/php-cgi.exe -->
        <!-- 
         <init-param>
           <param-name>php_exec</param-name>
           <param-value>php-cgi</param-value>
         </init-param>
        -->

         <!-- Prefer the system php-cgi executable (see DEFAULT_CGI_LOCATIONS) -->
         <!-- over a local WEB-INF/cgi/php-cgi-xxx-yyy[.sh|.exe]? -->
         <!-- Default is to try a local php-cgi executable first. -->
         <init-param>
           <param-name>prefer_system_php_exec</param-name>
           <param-value>On</param-value>
         </init-param>

         <!-- The number of concurrent cgi requests -->
         <!-- Note that this value should be 1/2 of the servlet engine's -->
         <!-- thread pool size because each PhpCGIServlet instance also -->
         <!-- consumes one PhpJavaServlet instance -->
        <!-- 
         <init-param>
           <param-name>max_requests</param-name>
           <param-value>50</param-value>
         </init-param>
        -->

         <!-- Use the fast cgi interface instead of cgi when running -->
         <!-- php as a CGI sub component (when php is not installed as an -->
         <!-- Apache or IIS module). Values: Off, On, Autostart. -->
         <!-- Default is Autostart. -->
        <!-- 
         <init-param>
           <param-name>use_fast_cgi</param-name>
           <param-value>Off</param-value>
         </init-param>
        -->

         <!-- Share the FastCGI server from the global PHP/Java Bridge -->
         <!-- with the PHP/Java Bridge  from the JavaBridge web context. -->
         <!-- WARNING: If you copy the PHP/Java Bridge library into the global -->
         <!-- classpath of the servlet engine and you do not disable the JavaBridge -->
         <!-- web context, make sure that these options match. -->
         <!-- If both bridges access the same FastCGI server, and these options do not -->
         <!-- match (see global web.xml and WEB-INF/web.xml), either the connection -->
         <!-- pool from the "JavaBridge" web context or the connection pool from the -->
         <!-- global PHP/Java Bridge library will hang. - Since both bridges are -->
         <!-- loaded via two separate classloaders, we don't have the chance to check -->
         <!-- this configuration error. -->
         <!-- Default is Off. -->
         <!-- See http://php-java-bridge.sf.net#global-servlet for details. -->
        <!-- 
         <init-param>
           <param-name>shared_fast_cgi_pool</param-name>
           <param-value>On</param-value>
         </init-param>
        -->

        <load-on-startup>0</load-on-startup>
  </servlet>

    <!-- PHP Servlet Mapping -->
    <servlet-mapping>
        <servlet-name>PhpJavaServlet</servlet-name>
        <url-pattern>*.phpjavabridge</url-pattern>
    </servlet-mapping>

    <!-- PHP CGI Servlet Mapping -->
    <servlet-mapping>
        <servlet-name>PhpCGIServlet</servlet-name>
        <url-pattern>*.php</url-pattern>
    </servlet-mapping>

    <!-- Welcome files -->
    <welcome-file-list>
        <welcome-file>index.php</welcome-file>
    </welcome-file-list>

</web-app>
