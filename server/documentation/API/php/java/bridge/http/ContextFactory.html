<?xml version="1.0" encoding="null"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>ContextFactory</title><script src="../../../../resources/gjdoc.js" type="text/javascript"><!-- this comment required for konqueror 3.2.2 --></script><meta http-equiv="Content-Type" content="text/html; charset=null"/><meta name="generator" content="GNU Gjdoc Standard Doclet"/><meta name="keywords" content="php.java.bridge.http.ContextFactory class"/><meta name="keywords" content="addNew()"/><meta name="keywords" content="get()"/><meta name="keywords" content="remove()"/><meta name="keywords" content="removeAll()"/><meta name="keywords" content="waitFor()"/><meta name="keywords" content="getId()"/><meta name="keywords" content="toString()"/><meta name="keywords" content="getContext()"/><meta name="keywords" content="setBridge()"/><meta name="keywords" content="getBridge()"/><link rel="stylesheet" type="text/css" href="../../../../resources/gjdochtml-clean-layout.css" title="GNU Clean"/><link rel="stylesheet" type="text/css" href="../../../../resources/gjdochtml-clean-color1.css" title="GNU Clean"/></head><body class="content class" onload="top.contentPageLoaded(document.title)"><table class="navbar div top"><tr><td class="navbar div top" colspan="2"><div class="navbar div top" colspan="2"><span class="navbar item enabled"><a href="../../../../index-noframes.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item active">Class</span> <span class="navbar item enabled"><a href="ContextFactory-uses.html">Use</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../../../alphaindex-1.html">Index</a></span> <span class="navbar item enabled"><a href="../../../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../../../about.html">About</a></span></div></td></tr><tr><td class="navi"><a href="../../../../php/java/bridge/http/Context.html">Prev Class</a> | <a href="../../../../php/java/bridge/http/ContextServer.html">Next Class</a></td><td class="navi"><a href="../../../../index.html" title="Show in a frameset" target="_top">Frames</a> | <a href="ContextFactory.html" title="Show without frames" target="_top">No Frames</a> </td></tr><tr><td class="navi">Summary: Nested | Field | <a href="#summary-methods">Method</a> | Constr</td><td class="navi">Detail: Nested | Field | <a href="#detail-methods">Method</a> | Constr</td></tr></table><div class="class title outer"><h3 class="class title-package">php.java.bridge.http</h3><h1 class="class title-class">Class ContextFactory</h1></div><div class="class inheritance-tree"><ul class="inheritance 0"><li class="inheritance 0"><code>java.lang.Object</code></li><ul class="inheritance 1"><li class="inheritance 1"><code><a href="../../../../php/java/bridge/SessionFactory.html">php.java.bridge.SessionFactory</a></code></li><ul class="inheritance 2"><li class="inheritance 2"><code>php.java.bridge.http.ContextFactory</code></li></ul></ul></ul></div><dl class="class subclasses"><dt class="class subclasses header"><b>Known Direct Subclasses:</b></dt><dd class="class subclasses header"><a href="../../../../php/java/servlet/ContextFactory.html" title="Class in php.java.servlet">ContextFactory</a>, <a href="../../../../php/java/script/PhpScriptContextFactory.html" title="Class in php.java.script">PhpScriptContextFactory</a></dd></b></dt></dl><hr/><div class="class synopsis outer"><div class="class synopsis declaration"><code>public class <b class="class synopsis name">ContextFactory</b></code></div><div class="class synopsis superclass"><code>extends <a href="../../../../php/java/bridge/SessionFactory.html" title="Class in php.java.bridge">SessionFactory</a></code></div></div><hr/><div class="class description"> Manage session contexts.<p/>
 The context may a) keep a promise (a "proxy") which one may evaluate to a
 session reference (for PHP/JSP session sharing), and/or b) it may
 reference a "half-executed" bridge for local channel re-directs (for
 "high speed" communication links).

 Context instances are kept in an array with no more than 65535
 entries, after 65535 context creations the context is destroyed if
 this did not happen explicitly.  A unique [1..65535] context
 instance should be created for each request and destroyed when the request
 is done.  
 The string ID of the instance should be passed to the client, which may
 pass it back together with the getSession request or the "local
 channel re-direct". If the former happens, we invoke the promise
 and return the session object to the client. Different promises can
 evaluate to the same session object.  For local channel re-directs,
 the Context is given to a ContextRunner, which handles the
 local channel communication.
 <p/>
 There can be only one instance of a ContextFactory per VM.
 
</div><p class="taglet"></p><p class="taglet"></p><p class="taglet"><dl class="tag list"><dt class="tag section header"><b>See Also:</b></dt><dd><a href="../../../../php/java/servlet/ContextFactory.html"><code>ContextFactory</code></a>, <a href="../../../../php/java/bridge/http/ContextServer.html"><code>ContextServer</code></a><dd></dl></p><p class="taglet"></p><p class="taglet"></p><a name="summary-methods"/><dl class="table container"><table class="class summary" border="1" width="100%"><tr class="table header"><td colspan="2"><h2 class="table header">Method Summary</h2></td></tr><tr><td class="left" valign="top"><code class="synopsis">static <a href="../../../../php/java/bridge/http/ContextFactory.html" title="Class in php.java.bridge.http">ContextFactory</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#addNew()">addNew</a>()</code></dt><dd class="description"> Create a new ContextFactory and add it to the list of context factories kept by this VM.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static <a href="../../../../php/java/bridge/http/ContextFactory.html" title="Class in php.java.bridge.http">ContextFactory</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#get(java.lang.String)">get</a>(java.lang.String&nbsp;id)</code></dt><dd class="description"> Returns the context factory associated with the given <code>id</code>
</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> <a href="../../../../php/java/bridge/JavaBridge.html" title="Class in php.java.bridge">JavaBridge</a></code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#getBridge()">getBridge</a>()</code></dt></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> java.lang.Object</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#getContext()">getContext</a>()</code></dt><dd class="description"> Return the associated context
</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> java.lang.String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#getId()">getId</a>()</code></dt><dd class="description"> Return the serializable ID of the context manager
</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#remove()">remove</a>()</code></dt><dd class="description"> Removes the context factory from the VM list of context factories.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis">static void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#removeAll()">removeAll</a>()</code></dt><dd class="description"> Remove all context factories from the VM.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#setBridge(php.java.bridge.JavaBridge)">setBridge</a>(<a href="../../../../php/java/bridge/JavaBridge.html" title="Class in php.java.bridge">JavaBridge</a>&nbsp;bridge)</code></dt><dd class="description"> Set the JavaBridge into this context.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> java.lang.String</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#toString()">toString</a>()</code></dt><dd class="description"> Convert this Object to a human-readable String.</dd></dl></td></tr><tr><td class="left" valign="top"><code class="synopsis"> void</code></td><td class="right"><dl class="list"><dt class="synopsis"><code><a href="#waitFor()">waitFor</a>()</code></dt><dd class="description"> Wait until this context is finished.</dd></dl></td></tr></table></dl><dl class="table container"><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class php.java.bridge.<a href="../../../../php/java/bridge/SessionFactory.html" title="Class in php.java.bridge">SessionFactory</a></h3></td></tr><tr><td class="inherited"><a href="../../../../php/java/bridge/SessionFactory.html#getContext()" title="getContext()"><code class="member">getContext</code></a>, <a href="../../../../php/java/bridge/SessionFactory.html#getSession(java.lang.String,boolean,int)" title="getSession(String,boolean,int)"><code class="member">getSession</code></a></td></tr></table></dl><dl class="table container"><table class="class summary" border="1" width="100%"><tr class="table sub header"><td colspan="2"><h3 class="table sub header">Methods inherited from class java.lang.Object</h3></td></tr><tr><td class="inherited"><a href="../../../../java/lang/Object.html#equals(java.lang.Object)" title="equals(Object)"><code class="member">equals</code></a>, <a href="../../../../java/lang/Object.html#getClass()" title="getClass()"><code class="member">getClass</code></a>, <a href="../../../../java/lang/Object.html#hashCode()" title="hashCode()"><code class="member">hashCode</code></a>, <a href="../../../../java/lang/Object.html#notify()" title="notify()"><code class="member">notify</code></a>, <a href="../../../../java/lang/Object.html#notifyAll()" title="notifyAll()"><code class="member">notifyAll</code></a>, <a href="../../../../java/lang/Object.html#toString()" title="toString()"><code class="member">toString</code></a>, <a href="../../../../java/lang/Object.html#wait()" title="wait()"><code class="member">wait</code></a>, <a href="../../../../java/lang/Object.html#wait(long)" title="wait(long)"><code class="member">wait</code></a>, <a href="../../../../java/lang/Object.html#wait(long,int)" title="wait(long,int)"><code class="member">wait</code></a></td></tr></table></dl><a name="detail-methods"/><h2 class="section header">Method Details</h2><div class="section"><a name="addNew()"/><div class="member detail outer"><h3 class="member detail name">addNew</h3><pre class="member detail synopsis">public static <a href="../../../../php/java/bridge/http/ContextFactory.html" title="Class in php.java.bridge.http">ContextFactory</a> addNew()</pre><blockquote class="member detail name"><div class="member detail description"> Create a new ContextFactory and add it to the list of context factories kept by this VM.
</div><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">The created ContextFactory.</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="get(java.lang.String)"/><div class="member detail outer"><h3 class="member detail name">get</h3><pre class="member detail synopsis">public static <a href="../../../../php/java/bridge/http/ContextFactory.html" title="Class in php.java.bridge.http">ContextFactory</a> get(java.lang.String id)</pre><blockquote class="member detail name"><div class="member detail description"> Returns the context factory associated with the given <code>id</code>
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">id</code><span class="separator"> - </span><span class="description">The ID</span></dd></dl></p><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">The ContextFactory or null.</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="getBridge()"/><div class="member detail outer"><h3 class="member detail name">getBridge</h3><pre class="member detail synopsis">public <a href="../../../../php/java/bridge/JavaBridge.html" title="Class in php.java.bridge">JavaBridge</a> getBridge()</pre><blockquote class="member detail name"><div class="member detail description"></div><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">Returns the bridge.</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="getContext()"/><div class="member detail outer"><h3 class="member detail name">getContext</h3><pre class="member detail synopsis">public java.lang.Object getContext()</pre><blockquote class="member detail name"><div class="member detail description"> Return the associated context
</div><dl class="member detail overridden list"><dt class="member detail overridden header"><b>Overrides:</b></dt><dd class="member detail overridden item">getContext in interface <a href="../../../../php/java/bridge/SessionFactory.html" title="Class in php.java.bridge">SessionFactory</a></dd></dl><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">The context</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="getId()"/><div class="member detail outer"><h3 class="member detail name">getId</h3><pre class="member detail synopsis">public java.lang.String getId()</pre><blockquote class="member detail name"><div class="member detail description"> Return the serializable ID of the context manager
</div><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">The ID</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="remove()"/><div class="member detail outer"><h3 class="member detail name">remove</h3><pre class="member detail synopsis">public void remove()</pre><blockquote class="member detail name"><div class="member detail description"> Removes the context factory from the VM list of context factories.
</div><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="removeAll()"/><div class="member detail outer"><h3 class="member detail name">removeAll</h3><pre class="member detail synopsis">public static void removeAll()</pre><blockquote class="member detail name"><div class="member detail description"> Remove all context factories from the VM.
 May only be called by the ContextServer.
</div><p class="taglet"></p><p class="taglet"></p><p class="taglet"><dl class="tag list"><dt class="tag section header"><b>See Also:</b></dt><dd><a href="../../../../php/java/bridge/http/ContextServer.html"><code>ContextServer</code></a><dd></dl></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="setBridge(php.java.bridge.JavaBridge)"/><div class="member detail outer"><h3 class="member detail name">setBridge</h3><pre class="member detail synopsis">public void setBridge(<a href="../../../../php/java/bridge/JavaBridge.html" title="Class in php.java.bridge">JavaBridge</a> bridge)</pre><blockquote class="member detail name"><div class="member detail description"> Set the JavaBridge into this context.
</div><p class="parameter"><dl><dt class="header"><b>Parameters:</b></dt><dd class="item"><code class="name">bridge</code><span class="separator"> - </span><span class="description">The bridge to set.</span></dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="toString()"/><div class="member detail outer"><h3 class="member detail name">toString</h3><pre class="member detail synopsis">public java.lang.String toString()</pre><blockquote class="member detail name"><div class="member detail description"> Convert this Object to a human-readable String.
 There are no limits placed on how long this String
 should be or what it should contain.  We suggest you
 make it as intuitive as possible to be able to place
 it into <code>System.out.println()</code>
 and such.

 <p/>It is typical, but not required, to ensure that this method
 never completes abruptly with a <code>RuntimeException</code>.

 <p/>This method will be called when performing string
 concatenation with this object.  If the result is
 <code>null</code>, string concatenation will instead
 use <code>"null"</code>.

 <p/>The default implementation returns
 <code>getClass().getName() + "@" +
      Integer.toHexString(hashCode())</code>.
</div><dl class="member detail overridden list"><dt class="member detail overridden header"><b>Overrides:</b></dt><dd class="member detail overridden item">toString in interface java.lang.Object</dd></dl><p class="member detail return list"><dl><dt class="member detail return header"><b>Returns:</b></dt><dd class="member detail return item">the String representing this Object, which may be null</dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"><dl class="tag list"><dt class="tag section header"><b>See Also:</b></dt><dd><code>getClass()</code>, <code>hashCode()</code>, <code>Class.getName()</code>, <code>Integer.toHexString(int)</code><dd></dl></p><p class="taglet"></p><p class="taglet"></p></blockquote></div><hr/><a name="waitFor()"/><div class="member detail outer"><h3 class="member detail name">waitFor</h3><pre class="member detail synopsis">public void waitFor()
            throws java.lang.InterruptedException</pre><blockquote class="member detail name"><div class="member detail description"> Wait until this context is finished.
</div><p class="member detail thrown list"><dl><dt class="member detail thrown header"><b>Throws:</b></dt><dd class="member detail thrown item"><code class="name">java.lang.InterruptedException</code><span class="separator"> - </span><span class="description"></span></dd></dl></p><p class="taglet"></p><p class="taglet"></p><p class="taglet"><dl class="tag list"><dt class="tag section header"><b>See Also:</b></dt><dd><code>php.java.bridge.http.ContextRunner</code><dd></dl></p><p class="taglet"></p><p class="taglet"></p></blockquote></div></div><p class="navbar bottom spacer"> </p><table class="navbar div bottom"><tr><td><div class="navbar div top" colspan="2"><span class="navbar item enabled"><a href="../../../../index-noframes.html">Overview</a></span> <span class="navbar item enabled"><a href="package-summary.html">Package</a></span> <span class="navbar item active">Class</span> <span class="navbar item enabled"><a href="ContextFactory-uses.html">Use</a></span> <span class="navbar item enabled"><a href="tree.html">Tree</a></span> <span class="navbar item enabled"><a href="../../../../alphaindex-1.html">Index</a></span> <span class="navbar item enabled"><a href="../../../../deprecated.html">Deprecated</a></span> <span class="navbar item enabled"><a href="../../../../about.html">About</a></span></div></td></tr></table></body></html>